{"version":3,"sources":["Homepage.js","ArticleCard.js"],"names":["Homepage","props","useState","baseArray","setBaseArray","mappedArray","setMappedArray","tagsArray","setTagsArray","displayAmount","type","arr","term","newArray","filter","f","tags","includes","category","console","log","length","tagsMap","array","a","map","m","changedArray","flat","flatArray","Set","setArray","useEffect","categoryArray","publishedArray","trueArray","style","display","flexDirection","width","marginTop","className","marginLeft","marginRight","height","cursor","onClick","textAlign","borderBottom","marginBottom","categorySelected","articleFrom","id","textDecoration","filterWord","interimArray","trueTagsArray","setCategorySelected","toUpperCase","push","handleTagsFilter","trueCategoryArray","handleCategoryFilter","ArticleCard","paddingTop","paddingBottom","backgroundColor","articleType","articleID","window","open","Img","src","image","alt","title","substring","subtitle","Text","paddingRight","author","datePublished"],"mappings":"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","file":"static/js/15.70ed68b4.chunk.js","sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport {BiRefresh} from 'react-icons/bi'\r\nimport Nav from 'react-bootstrap/Nav'\r\nimport ArticleCard from './ArticleCard'\r\nimport Loading from './Loading'\r\n\r\nconst Homepage =  (props)=> {\r\nconst [baseArray, setBaseArray] = useState([])\r\nconst [mappedArray, setMappedArray] = useState([])\r\n\r\nconst [tagsArray, setTagsArray] = useState([])\r\n\r\n\r\n\r\n\r\nconst displayAmount = (type,arr, term)=>{\r\nvar newArray\r\nswitch(type){\r\n    case 'tags':\r\n        \r\n        newArray = arr.filter((f)=>{\r\n            return f.tags.includes(term)\r\n        });\r\n        break;\r\n    case 'category':\r\n       newArray = arr.filter((f)=>{\r\n            return f.category.includes(term)\r\n        });\r\n             break;\r\n\r\n    default:\r\n        console.log('type undefined')\r\n}\r\n\r\n\r\n\r\n\r\n\r\nreturn newArray.length\r\n}\r\n\r\n\r\n\r\nconst handleTagsFilter = (filterWord)=>{\r\n// filter array by matches to filterWord\r\nconst interimArray = baseArray\r\nvar trueTagsArray = []\r\n\r\n\r\nif(filterWord){\r\n    interimArray.map((m)=>{\r\n        if(m.tags.includes(filterWord.toUpperCase())){\r\n          return  trueTagsArray.push(m)\r\n        }else{\r\n            return m\r\n        }\r\n    })\r\n    setMappedArray(trueTagsArray)\r\n    props.setCategorySelected(`Viewing Tag: ${filterWord}`)\r\n    console.log('trueTagsArray', trueTagsArray)\r\n}else{\r\n    props.setCategorySelected(`ALL`)\r\n\r\n   return setMappedArray(baseArray)\r\n\r\n}\r\n    \r\n}\r\n\r\n\r\n\r\nconst handleCategoryFilter = (filterWord)=>{\r\n    // grab base arrayy\r\n\r\n    // props.trueArray\r\n    const interimArray = props.trueArray\r\n\r\n// filter array by matches to filterWord\r\nvar trueCategoryArray = []\r\n\r\ninterimArray.map((m)=>{\r\n    if(m.category.includes(filterWord.toUpperCase())){\r\nreturn trueCategoryArray.push(m)\r\n \r\n    }else{\r\n        return m\r\n    }\r\n})\r\n\r\n\r\n\r\n    // set main page array to new Category array\r\n    // props.setPublishedArray\r\n    setMappedArray(trueCategoryArray)\r\n    props.setCategorySelected(`Viewing Category: ${filterWord}`)\r\n\r\n    console.log('trueCategoryArray', trueCategoryArray)\r\n\r\n    // console.log('category filter')\r\n    }\r\n\r\nconst tagsMap =async (array)=>{\r\n    const changedArray = await array.map((m)=>{\r\n        return m.tags\r\n    })\r\n    const flatArray = await changedArray.flat()\r\n    const setArray = await [...new Set(flatArray)]\r\n    console.log(`flatArray`, flatArray)\r\n    console.log(`setArray`, setArray)\r\n    console.log(`changedArray`, changedArray)\r\nsetTagsArray(setArray)\r\n}\r\nuseEffect(()=>{\r\nif(mappedArray.length < 1 || !mappedArray){\r\n    setMappedArray(props.publishedArray)\r\n    setBaseArray(props.trueArray)\r\n    tagsMap(props.trueArray)\r\n    console.log('categories',props.categoryArray)\r\n\r\n}else {\r\n    console.log('categories',props.categoryArray)\r\n    console.log('mapped Array',props.categoryArray)\r\n\r\n    return\r\n}\r\n}, [props.trueArray,props.categoryArray, props.publishedArray, mappedArray])\r\n\r\n    return (\r\n        <div>\r\n       \r\n        <div style={{display: 'flex', flexDirection:'row', width: '100%', marginTop:'0px' }}>\r\n      \r\n        \r\n       <Nav className='flex-column' style={{marginLeft: 'auto',marginRight:'0px', width: '60%' }}>\r\n       <h4\r\n       >\r\n       <BiRefresh \r\n       style={{height:'3rem',width:'3rem', cursor: 'pointer'}}\r\n       onClick={()=>{\r\n           setMappedArray(baseArray)\r\n       }}/>\r\n       </h4>\r\n\r\n       <h4 \r\n       style={{textAlign:'center' ,borderBottom:'2px solid black',marginBottom:'2rem', marginLeft:'auto',marginRight:'auto', width: '50%'}}>\r\n        {(props.categorySelected && props.categorySelected !=='HOME') ? props.categorySelected : 'All Articles'}\r\n      \r\n        </h4>\r\n\r\n{(props.publishedArray.length > 0)\r\n    ?\r\n    mappedArray.map((m)=>{\r\n    return (\r\n        <ArticleCard articleFrom='homepage' key={m.id} {...m}/>\r\n    )\r\n})\r\n:\r\n<Loading/>\r\n}\r\n\r\n\r\n\r\n       </Nav>\r\n\r\n       <Nav className='flex-column' style={{ width:'25%', marginLeft: 'auto', marginRight:'auto'}}>\r\n       <h2 className='text-center' style={{textDecoration: 'underline'}}>Tags</h2>\r\n     {tagsArray.map((m)=>{\r\n         return(\r\n             <p key={m} style={{cursor:'pointer',textAlign:'right', textDecoration: 'underline'}}\r\n             onClick={()=>{\r\n                handleTagsFilter(m)\r\n             }}\r\n             >{m} ({displayAmount('tags', baseArray, m)})</p>\r\n         )\r\n     })}\r\n    <h2 className='text-center' style={{textDecoration: 'underline'}} >Categories</h2>\r\n    {props.categoryArray.map((m)=>{\r\n        return(\r\n            <p key={m} style={{cursor:'pointer',textAlign:'right', textDecoration: 'underline'}} \r\n            onClick={()=>{\r\n                handleCategoryFilter(m)\r\n             }}\r\n            >{m} ({displayAmount('category', baseArray, m)})</p>\r\n        )\r\n    })}\r\n        </Nav>\r\n    \r\n       </div>\r\n      \r\n   </div>\r\n    )\r\n}\r\n\r\nexport default Homepage\r\n","import React from 'react'\r\nimport Card from 'react-bootstrap/Card'\r\n\r\nfunction ArticleCard(props) {\r\n\r\n\r\nconst handleCardRedirect=(articleType, articleID) =>{\r\n  if(articleType === 'drafts'){\r\n    window.open(`/read/draft/${articleID}`)\r\n}else if(articleType === 'published'){\r\n    window.open(`/read/published/${articleID}`)\r\n}\r\n  \r\n  \r\n} \r\n    return (\r\n      <Card \r\n      style={{marginBottom:'1.5rem', paddingTop:'.5rem', paddingBottom:'.5rem', backgroundColor:'grey'}}\r\n      onClick={()=>{\r\n       handleCardRedirect(props.type, props.id)\r\n      \r\n   }}\r\n      >\r\n      <Card.Img  style={{height: '10rem', width:'10rem', marginRight:'auto', marginLeft:'auto', marginBottom:'1rem'}}\r\n      src={props.image} alt={`${props.title}`} />\r\n      \r\n      \r\n      <h2 style={{textAlign:'center'}}>{(props.title.length < 35)?props.title.toUpperCase():`${props.title.substring(0, 35).toUpperCase()} ...`} </h2>\r\n      <h5 style={{textAlign:'center'}}>{(props.subtitle.length < 30)?props.subtitle.toUpperCase():`${props.subtitle.substring(0, 30).toUpperCase()} ...`}</h5>\r\n     <Card.Text style={{textAlign:'right', paddingRight:'3px'}}>By {props.author} on {props.datePublished}</Card.Text>\r\n      </Card>\r\n     \r\n    )\r\n}\r\n\r\nexport default ArticleCard\r\n"],"sourceRoot":""}