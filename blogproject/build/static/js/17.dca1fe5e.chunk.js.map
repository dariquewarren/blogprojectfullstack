{"version":3,"sources":["Homepage.js","ArticleCard.js"],"names":["Homepage","props","useState","baseArray","setBaseArray","mappedArray","setMappedArray","tagsArray","setTagsArray","tagsMap","array","a","map","m","tags","changedArray","flat","flatArray","setArray","Set","console","log","useEffect","length","publishedArray","trueArray","categoryArray","onClick","getEveryArticle","style","display","flexDirection","width","marginTop","className","marginLeft","marginRight","height","cursor","textAlign","borderBottom","marginBottom","categorySelected","articleFrom","id","textDecoration","filterWord","mappedTagsArray","undefined","includes","toUpperCase","push","alert","handleTagsFilter","mappedCategoryArray","category","handleCategoryFilter","ArticleCard","title","paddingTop","paddingBottom","backgroundColor","articleType","articleID","type","window","open","Img","src","image","alt","substring","subtitle","Text","paddingRight","author","datePublished"],"mappings":"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","file":"static/js/17.dca1fe5e.chunk.js","sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport {BiRefresh} from 'react-icons/bi'\r\nimport Nav from 'react-bootstrap/Nav'\r\nimport ArticleCard from './ArticleCard'\r\nimport Loading from './Loading'\r\nimport {getEveryArticle} from './Firebase'\r\nconst Homepage =  (props)=> {\r\nconst [baseArray, setBaseArray] = useState([])\r\nconst [mappedArray, setMappedArray] = useState([])\r\n\r\nconst [tagsArray, setTagsArray] = useState([])\r\n\r\n\r\nconst handleTagsFilter = (filterWord)=>{\r\n    console.log('filterWord', filterWord)\r\n\r\n   // TAKE IN WORD\r\n   // FILTER OUT UNDEFINED VALUES FOR TAGS\r\n   const mappedTagsArray =[]\r\n    props.trueArray.map((m)=>{\r\n    if(m.tags !== undefined && m.tags.includes(filterWord.toUpperCase()) ){\r\n        mappedTagsArray.push(m)\r\n        return m\r\n    }\r\n    })\r\n       // FILTER OR MAP ARRAY BY TAGS TO FIND ARTICLES WHERE TAGS=== MAP\r\n\r\n       mappedTagsArray.map((m)=>{\r\n        return m.tags.includes(filterWord.toUpperCase())\r\n    })\r\n// SET MAIN ARRAY TO MAPPEDTAGS ARRAY\r\nif(mappedTagsArray.length > 0){\r\n    setMappedArray(mappedTagsArray)\r\n    return\r\n}else{\r\n    alert('error: no array: error')\r\n}\r\n    console.log('mappedTagsArray', mappedTagsArray)\r\n    \r\n}\r\n\r\n\r\n\r\nconst handleCategoryFilter = (filterWord)=>{\r\n    console.log('filterWord', filterWord)\r\n\r\n   // TAKE IN WORD\r\n   // FILTER OUT UNDEFINED VALUES FOR CATEGORY\r\n   const mappedCategoryArray =[]\r\n    props.trueArray.map((m)=>{\r\n    if(m.category !== undefined && m.category.includes(filterWord)){\r\n        mappedCategoryArray.push(m)\r\n        return m\r\n    }\r\n    })\r\n       // FILTER OR MAP ARRAY BY CATEGORY TO FIND ARTICLES WHERE CATEGORY=== MAP\r\n\r\n    mappedCategoryArray.map((m)=>{\r\n        return m.category.includes(filterWord.toUpperCase())\r\n    })\r\n// SET MAIN ARRAY TO MAPPEDCATEGORY ARRAY\r\nif(mappedCategoryArray.length > 0){\r\n    setMappedArray(mappedCategoryArray)\r\n    return\r\n}else{\r\n    alert('error: no array: error')\r\n}\r\n    console.log('mappedCategoryArray', mappedCategoryArray)\r\n    }\r\n\r\nconst tagsMap =async (array)=>{\r\n    const changedArray = await array.map((m)=>{\r\n        return m.tags\r\n    })\r\n    const flatArray = await changedArray.flat()\r\n    const setArray =  [...new Set(flatArray)]\r\n    console.log(`flatArray`, flatArray)\r\n    console.log(`setArray`, setArray)\r\n    console.log(`changedArray`, changedArray)\r\nsetTagsArray(setArray)\r\n}\r\nuseEffect(()=>{\r\nif(mappedArray.length < 1 || !mappedArray){\r\n    setMappedArray(props.publishedArray)\r\n    setBaseArray(props.trueArray)\r\n    tagsMap(props.publishedArray)\r\n\r\n    console.log('categories',props.categoryArray)\r\n\r\n}else {\r\n   console.log('mapped array', mappedArray)\r\n\r\n    return\r\n}\r\n\r\n}, [props.trueArray,props.categoryArray, props.publishedArray, mappedArray])\r\n\r\n    return (\r\n        <div>\r\n        <button\r\n        onClick={()=>{\r\n            getEveryArticle()}}\r\n        >test</button>\r\n        <div style={{display: 'flex', flexDirection:'row', width: '100%', marginTop:'0px' }}>\r\n      \r\n        \r\n       <Nav className='flex-column' style={{marginLeft: 'auto',marginRight:'0px', width: '60%' }}>\r\n       <h4\r\n       >\r\n       <BiRefresh \r\n       style={{height:'3rem',width:'3rem', cursor: 'pointer'}}\r\n       onClick={()=>{\r\n           setMappedArray(baseArray)\r\n       }}/>\r\n       </h4>\r\n\r\n       <h4 \r\n       style={{textAlign:'center' ,borderBottom:'2px solid black',marginBottom:'2rem', marginLeft:'auto',marginRight:'auto', width: '50%'}}>\r\n        {(props.categorySelected && props.categorySelected !=='HOME') ? props.categorySelected : 'All Articles'}\r\n      \r\n        </h4>\r\n\r\n{\r\n    mappedArray.map((m)=>{\r\n    return (\r\n        <ArticleCard articleFrom='homepage' key={m.id} {...m}/>\r\n    )\r\n})\r\n\r\n}\r\n\r\n\r\n\r\n       </Nav>\r\n\r\n       <Nav className='flex-column' style={{ width:'25%', marginLeft: 'auto', marginRight:'auto'}}>\r\n       <h2 className='text-center' style={{textDecoration: 'underline'}}>Tags</h2>\r\n     {(tagsArray.length >0)\r\n        ? \r\n        tagsArray.map((m)=>{\r\n         return(\r\n             <p key={m} style={{cursor:'pointer',textAlign:'right', textDecoration: 'underline'}}\r\n             onClick={()=>{\r\n                handleTagsFilter(m)\r\n             }}\r\n             >{m} </p>\r\n         )\r\n     })\r\n    :\r\n    <Loading/>\r\n    }\r\n    <h2 className='text-center' style={{textDecoration: 'underline'}} >Categories</h2>\r\n    {(props.categoryArray.length > 0) ?props.categoryArray.map((m)=>{\r\n        return(\r\n            <p key={m} style={{cursor:'pointer',textAlign:'right', textDecoration: 'underline'}} \r\n            onClick={()=>{\r\n                handleCategoryFilter(m)\r\n             }}\r\n            >{m}</p>\r\n        )\r\n    })\r\n    :\r\n    (\r\n        <Loading/>\r\n    )\r\n}\r\n        </Nav>\r\n    \r\n       </div>\r\n      \r\n   </div>\r\n    )\r\n}\r\n\r\nexport default Homepage\r\n","import React from 'react'\r\nimport Card from 'react-bootstrap/Card'\r\nimport Loading from './Loading'\r\n\r\nfunction ArticleCard(props) {\r\n\r\n\r\nconst handleCardRedirect=(articleType, articleID) =>{\r\n  if(articleType === 'drafts'){\r\n    window.open(`/read/draft/${articleID}`)\r\n}else if(articleType === 'published'){\r\n    window.open(`/read/published/${articleID}`)\r\n}\r\n  \r\n  \r\n} \r\n    return (\r\n      <div>\r\n      {\r\n        (props.title)\r\n        ?\r\n        <Card \r\n        style={{marginBottom:'1.5rem', paddingTop:'.5rem', paddingBottom:'.5rem', backgroundColor:'grey'}}\r\n        onClick={()=>{\r\n         handleCardRedirect(props.type, props.id)\r\n        \r\n     }}\r\n        >\r\n        <Card.Img  style={{height: '10rem', width:'10rem', marginRight:'auto', marginLeft:'auto', marginBottom:'1rem'}}\r\n        src={props.image} alt={`${props.title}`} />\r\n        \r\n        \r\n        <h2 style={{textAlign:'center'}}>{(props.title.length < 35)?props.title.toUpperCase():`${props.title.substring(0, 35).toUpperCase()} ...`} </h2>\r\n        <h5 style={{textAlign:'center'}}>{(props.subtitle.length < 30)?props.subtitle.toUpperCase():`${props.subtitle.substring(0, 30).toUpperCase()} ...`}</h5>\r\n       <Card.Text style={{textAlign:'right', paddingRight:'3px'}}>By {props.author} on {props.datePublished}</Card.Text>\r\n        </Card>\r\n        :\r\n        <Loading/>\r\n      }\r\n      </div>\r\n    \r\n     \r\n    )\r\n}\r\n\r\nexport default ArticleCard\r\n"],"sourceRoot":""}